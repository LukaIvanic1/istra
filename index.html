<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>WEATHER</title>
    
    
    <link href="index.css" rel="stylesheet">
</head>

<body>
    <div id="PageHeader1"
        style="position:absolute;text-align:left;left:0px;top:0px;width:100%;height:10%;z-index:7777;">
        <div id="wb_Text1"
            style="position:absolute;left:40%;top:20%;text-align:center;z-index:0;">
            <span
                style="color:#000000;font-family:Verdana;font-size:53px;letter-spacing:1.07px;"><strong>WEATHER</strong></span>
        </div>
    </div>
    
    <div id="wb_Image1" style="position:absolute;left:45px;top:129px;width:730px;height:730px;z-index:3;">
        <img src="http://www.vrijeme.hr/kompozit-stat.png" id="Image1" alt="Radar" title="Radar" width="730" height="678">
    </div>
    <div id="wb_Text2" style="position:absolute;left:318px;top:880px;width:250px;height:45px;z-index:4;">
        <span style="color:#000000;font-family:Verdana;font-size:37px;"><strong>RADAR</strong></span>
    </div>
    <div id="weather-widget" style="position:absolute;left:1118px;top:321px;width:250px;height:15px;z-index:5;">
        <span style="color:#000000;font-family:Arial;font-size:13px;">weather in buje</span>
        <p>
            Loading...
        </p>
    </div>

    <script>
        // Fetch weather data from Open-Meteo API
        fetch('https://api.open-meteo.com/v1/forecast?latitude=45.41&longitude=13.66&hourly=temperature_2m,relativehumidity_2m,apparent_temperature,precipitation_probability')
          .then(response => response.json())
          .then(data => {
            const weatherWidget = document.getElementById('weather-widget');
            const d = new Date();
            let hour = d.getHours();
            // Extract relevant weather information from the API response
            const temperature = Math.round(data.hourly.temperature_2m[hour]);
            const humidity = data.hourly.relativehumidity_2m[hour];
            const apparentTemperature = Math.round(data.hourly.apparent_temperature[hour]);
            const precipitationProbability = data.hourly.precipitation_probability[hour];
      
            // Update the widget with the weather information
            weatherWidget.innerHTML = `
              <h2>Weather in Buje, Croatia</h2>
              <p>Temperature: ${temperature}°C</p>
              <p>Humidity: ${humidity}%</p>
              <p>Apparent Temperature: ${apparentTemperature}°C</p>
              <p>Precipitation Probability: ${precipitationProbability}%</p>
            `;
          })
          .catch(error => {
            const weatherWidget = document.getElementById('weather-widget');
            weatherWidget.innerHTML = 'Error fetching weather data.';
            console.error(error);
          });
      </script>
      
</body>

</html>